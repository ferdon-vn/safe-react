(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[32],{2304:function(e,t,n){"use strict";var a=n(16),r=n(71),c=n(603),o=n(605),i=n(2201),s=n(610),l=n(0),u=n.n(l),m={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,l=e.formControlProps,d=e.input,f=d.name,p=d.onChange,b=d.value,g=Object(r.a)(d,["name","onChange","value"]),v=e.label,h=e.meta,O=e.renderValue,E=Object(r.a)(e,["classes","disableError","formControlProps","input","label","meta","renderValue"]),j=(h.submitError&&!h.dirtySinceLastSubmit||h.error)&&h.touched&&!n,y=Object(a.a)(Object(a.a)({},g),{},{name:f});return u.a.createElement(c.a,Object.assign({},l,{error:j,style:m}),u.a.createElement(i.a,{htmlFor:f},v),u.a.createElement(s.a,Object.assign({classes:t,inputProps:y,onChange:p,renderValue:O,value:b},E)),j&&u.a.createElement(o.a,null,h.error||h.submitError))}},2318:function(e,t,n){"use strict";var a=n(121);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),c=(0,a(n(258)).default)(r.default.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.default=c},2347:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(2318),r=n.n(a),c=n(0),o=n(2348),i=n.n(o),s=n(208),l=n(132),u=n(148),m=n(2294),d=n(103),f=n(130),p=n(80),b=n(3),g=n(2350),v=n(2351),h={height:"13px",color:b.secondary,marginBottom:"-2px"},O={marginLeft:b.marginButtonImg},E=function(e){var t=e.provider,n=e.size;return c.createElement(u.a,{color:"primary",component:f.a,disabled:!t,minHeight:42,minWidth:240,size:n||"medium",to:p.b,variant:"contained",testId:"create-new-safe-btn"},c.createElement(d.a,{alt:"Safe",height:14,src:g}),c.createElement("div",{style:O},"Create new Safe"))},j=function(e){var t=e.provider,n=e.size;return c.createElement(u.a,{color:"primary",component:f.a,disabled:!t,minWidth:240,size:n||"medium",to:p.a,variant:"outlined",testId:"load-existing-safe-btn"},c.createElement(d.a,{alt:"Safe",height:14,src:v}),c.createElement("div",{style:O},"Load existing Safe"))};t.b=function(e){var t=e.isOldMultisigMigration,n=e.provider,a=t?c.createElement(c.Fragment,null,"We will replicate the owner structure from your existing Gnosis MultiSig",c.createElement("br",null),"to let you test the new interface.",c.createElement("br",null),"As soon as you feel comfortable, start moving funds to your new Safe.",c.createElement("br",null)," "):c.createElement(c.Fragment,null,"Gnosis Safe Multisig is the most secure way to manage crypto funds",c.createElement("br",null),"collectively. It is an improvement of the Gnosis MultiSig, which is used by more than 3000 teams",c.createElement("br",null)," and stores over $1B USD worth of digital assets. Gnosis Safe Multisig features a modular",c.createElement("br",null)," design, formally verified smart contracts and vastly improved user experience."," ");return c.createElement(l.a,{className:i.a.safe},c.createElement(m.a,{align:"center",margin:"lg",tag:"h1",weight:"bold"},"Welcome to",c.createElement("br",null),"Gnosis Safe Multisig"),c.createElement(m.a,{align:"center",margin:"xl",tag:"h3"},a,c.createElement("a",{className:i.a.learnMoreLink,href:"https://gnosis-safe.io/teams",rel:"noopener noreferrer",target:"_blank"},"Learn more",c.createElement(r.a,{style:h}))),n?c.createElement(c.Fragment,null,c.createElement(l.a,{className:i.a.safeActions,margin:"md"},c.createElement(E,{provider:n,size:"large"})),c.createElement(l.a,{className:i.a.safeActions,margin:"md"},c.createElement(j,{provider:n,size:"large"}))):c.createElement(l.a,{className:i.a.connectWallet,margin:"md"},c.createElement(m.a,{align:"center",margin:"md",tag:"h3"},"Get Started by Connecting a Wallet"),c.createElement(s.a,{minHeight:42,minWidth:240,"data-testid":"connect-btn"})))}},2348:function(e,t,n){e.exports={safe:"Layout_safe__2H-QU",summary:"Layout_summary__2l3O0",safeActions:"Layout_safeActions__bcbuX",learnMoreLink:"Layout_learnMoreLink__3g-LP",connectWallet:"Layout_connectWallet__-KUdS"}},2350:function(e,t,n){e.exports=n.p+"static/media/new.50423d0d.svg"},2351:function(e,t,n){e.exports=n.p+"static/media/safe.64e2c064.svg"},2424:function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},2618:function(e,t,n){"use strict";var a=n(108),r=n(92),c=n(126),o=n(2619),i=n(1043),s=n(2424);function l(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function m(e,t){return t.decode?i(e):e}function d(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){var t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,a){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return function(e,n,a){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};case"comma":case"separator":return function(t,n,a){var r="string"===typeof n&&n.includes(e.arrayFormatSeparator),c="string"===typeof n&&!r&&m(n,e).includes(e.arrayFormatSeparator);n=c?m(n,e):n;var o=r||c?n.split(e.arrayFormatSeparator).map((function(t){return m(t,e)})):null===n?n:m(n,e);a[t]=o};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),c=Object.create(null);if("string"!==typeof e)return c;if(!(e=e.trim().replace(/^[?#&]/,"")))return c;var o,i=r(e.split("&"));try{for(i.s();!(o=i.n()).done;){var u=o.value,d=s(t.decode?u.replace(/\+/g," "):u,"="),f=a(d,2),b=f[0],g=f[1];g=void 0===g?null:["comma","separator"].includes(t.arrayFormat)?g:m(g,t),n(m(b,t),g,c)}}catch(w){i.e(w)}finally{i.f()}for(var v=0,h=Object.keys(c);v<h.length;v++){var O=h[v],E=c[O];if("object"===typeof E&&null!==E)for(var j=0,y=Object.keys(E);j<y.length;j++){var x=y[j];E[x]=p(E[x],t)}else c[O]=p(E,t)}return!1===t.sort?c:(!0===t.sort?Object.keys(c).sort():Object.keys(c).sort(t.sort)).reduce((function(e,t){var n=c[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=b,t.stringify=function(e,t){if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(a=e[n])||void 0===a)||t.skipEmptyString&&""===e[n];var a},a=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,a){var r=n.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:[].concat(c(n),null===a?[[u(t,e),"[",r,"]"].join("")]:[[u(t,e),"[",u(r,e),"]=",u(a,e)].join("")])}};case"bracket":return function(t){return function(n,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:[].concat(c(n),null===a?[[u(t,e),"[]"].join("")]:[[u(t,e),"[]=",u(a,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,a){return null===a||void 0===a||0===a.length?n:0===n.length?[[u(t,e),"=",u(a,e)].join("")]:[[n,u(a,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:[].concat(c(n),null===a?[u(t,e)]:[[u(t,e),"=",u(a,e)].join("")])}}}}(t),r={},o=0,i=Object.keys(e);o<i.length;o++){var s=i[o];n(s)||(r[s]=e[s])}var m=Object.keys(r);return!1!==t.sort&&m.sort(t.sort),m.map((function(n){var r=e[n];return void 0===r?"":null===r?u(n,t):Array.isArray(r)?r.reduce(a(n),[]).join("&"):u(n,t)+"="+u(r,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=s(e,"#"),r=a(n,2),c=r[0],o=r[1];return Object.assign({url:c.split("?")[0]||"",query:b(f(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:m(o,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var a=d(e.url).split("?")[0]||"",r=t.extract(e.url),c=t.parse(r,{sort:!1}),o=Object.assign(c,e.query),i=t.stringify(o,n);i&&(i="?".concat(i));var s=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(s="#".concat(u(e.fragmentIdentifier,n))),"".concat(a).concat(i).concat(s)}},2619:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},2620:function(e,t,n){e.exports=n.p+"static/media/loader-dots.b776e7e4.svg"},2621:function(e,t,n){e.exports=n.p+"static/media/success.7ef1e749.svg"},2622:function(e,t,n){e.exports=n.p+"static/media/vault-error.786d0515.svg"},2623:function(e,t,n){e.exports=n.p+"static/media/vault.b5ac2895.svg"},2624:function(e,t,n){e.exports=n.p+"static/media/trash.49c3c3d5.svg"},2989:function(e,t,n){"use strict";n.r(t),n.d(t,"getSafeProps",(function(){return Et})),n.d(t,"createSafe",(function(){return jt}));var a=n(35),r=n(16),c=n(1),o=n.n(c),i=n(4),s=n(30),l=n(2618),u=n.n(l),m=n(0),d=n.n(m),f=n(249),p=n(40),b=n(39),g=n(36),v=n(148),h=n(3),O=n(22);function E(){var e=Object(b.a)(["\n  margin-right: 16px;\n"]);return E=function(){return e},e}function j(){var e=Object(b.a)(["\n  color: ",";\n"]);return j=function(){return e},e}var y=g.default.a(j(),h.connected),x=Object(g.default)(v.a)(E()),w=function(e){var t=e.safeCreationTxHash,n=Object(O.b)(t)(),a=n.url,r=n.alt,c=/(http|https):\/\/(\w+\.\w+)\/.*/i.exec(a),o=null!==c?c[2]:"Network Explorer";return d.a.createElement("span",null,d.a.createElement("p",null,"This process should take a couple of minutes."),d.a.createElement("p",null,"Follow the progress on"," ",d.a.createElement(y,{"aria-label":r,href:a,rel:"noopener noreferrer",target:"_blank","data-testid":"safe-create-explorer-link"},o),"."))},S=function(e){var t=e.onCancel,n=e.onRetry;return d.a.createElement(d.a.Fragment,null,d.a.createElement(x,{onClick:t,variant:"contained"},"Cancel"),d.a.createElement(v.a,{color:"primary",onClick:n,variant:"contained"},"Retry"))},N=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:w},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:w},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:w},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:w},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:"Click below to get started",footerComponent:function(e){var t=e.continueButtonDisabled,n=e.onContinue;return d.a.createElement(v.a,{color:"primary",disabled:t,onClick:n,variant:"contained","data-testid":"continue-btn"},"Continue")}}],k=n(2294),C=n(103),A=n(69),_=n(200),I=n(142),F=n(24),R=n(141);function T(){var e=Object(b.a)(["\n  grid-column: 2;\n  margin: 20px auto 0;\n"]);return T=function(){return e},e}function M(){var e=Object(b.a)(["\n  grid-row: 5;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]);return M=function(){return e},e}function z(){var e=Object(b.a)(["\n  grid-row: 4;\n"]);return z=function(){return e},e}function W(){var e=Object(b.a)(["\n  grid-row: 3;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return W=function(){return e},e}function G(){var e=Object(b.a)(["\n  grid-row: 2;\n"]);return G=function(){return e},e}function P(){var e=Object(b.a)(["\n  grid-row: 1;\n"]);return P=function(){return e},e}function D(){var e=Object(b.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 24px;\n  font-size: 16px;\n  margin-bottom: 16px;\n\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"]);return D=function(){return e},e}function L(){var e=Object(b.a)(["\n  font-size: 20px;\n"]);return L=function(){return e},e}function V(){var e=Object(b.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: #ffffff;\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 50px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 70px 60px 100px;\n"]);return V=function(){return e},e}function H(){var e=Object(b.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]);return H=function(){return e},e}function B(){var e=Object(b.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]);return B=function(){return e},e}function Y(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 62px auto;\n  margin-bottom: 30px;\n"]);return Y=function(){return e},e}var K=n(2620),U=n(2621),q=n(2622),$=n(2623),J=g.default.div(Y()),Q=Object(g.default)(k.a)(B()),X=g.default.div(H()),Z=g.default.div(V()),ee=g.default.div(L()),te=Object(g.default)(A.a)(D(),(function(e){return e.inverseColors?h.connected:h.background}),(function(e){return e.inverseColors?h.background:h.connected})),ne=g.default.div(P()),ae=g.default.div(G()),re=g.default.div(W()),ce=g.default.div(z()),oe=g.default.div(M()),ie=Object(g.default)(v.a)(T()),se=function(e){var t,n=e.creationTxHash,r=e.onCancel,c=e.onRetry,l=e.onSuccess,u=e.submittedPromise,f=Object(m.useState)(!0),b=Object(a.a)(f,2),g=b[0],v=b[1],h=Object(m.useState)(0),O=Object(a.a)(h,2),E=O[0],j=O[1],y=Object(m.useState)(""),x=Object(a.a)(y,2),w=x[0],k=x[1],A=Object(m.useState)(""),T=Object(a.a)(A,2),M=T[0],z=T[1],W=Object(m.useState)(!1),G=Object(a.a)(W,2),P=G[0],D=G[1],L=Object(m.useState)(!1),V=Object(a.a)(L,2),H=V[0],B=V[1],Y=Object(m.useState)(!1),se=Object(a.a)(Y,2),le=se[0],ue=se[1],me=Object(m.useState)(!1),de=Object(a.a)(me,2),fe=de[0],pe=de[1],be=Object(p.f)(R.d),ge=function(e){return 0===e}(E),ve=function(e){B(!1),ue(!1),pe(!1),D(!0),console.error(e)},he=function(){j(0),D(!1),c()};return Object(m.useEffect)((function(){be&&function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.j)();case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[be]),Object(m.useEffect)((function(){void 0!==u&&(j(0),u.once("transactionHash",(function(e){k(e),j(1),B(!0)})).on("error",ve))}),[u]),Object(m.useEffect)((function(){void 0!==n&&(k(n),j(1),B(!0))}),[n]),Object(m.useEffect)((function(){if(H){var e=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(F.h)(),e.next=3,n.eth.getTransaction(t);case 3:if(null!==e.sent.blockNumber){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,n.eth.getTransactionReceipt(t);case 8:if(e.sent.status){e.next=11;break}throw Error("TX status reverted");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=setInterval(Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E<4&&j(E+1),void 0!==u&&u.then((function(){j(4),ue(!0),B(!1)})),void 0===n){t.next=13;break}return t.prev=3,t.next=6,e(n);case 6:t.sent&&(j(4),ue(!0),B(!1)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),ve(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),3e3);return function(){clearInterval(t)}}}),[n,u,H,E,P]),Object(m.useEffect)((function(){var e;if(le)return"string"===typeof w&&function(){var t=Object(i.a)(o.a.mark((function t(n){var a,r,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(F.h)(),t.next=4,a.eth.getTransactionReceipt(n);case 4:(r=t.sent).events?c=r.events.ProxyCreation.returnValues.proxy:(s=a.eth.abi.decodeLog([{type:"address",name:"ProxyCreation"}],r.logs[0].data,r.logs[0].topics),c=s[0]),z(c),e=setInterval(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getCode(c);case 2:e.sent!==I.a&&j(5);case 4:case"end":return e.stop()}}),e)}))),1e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),ve(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()(w),function(){clearInterval(e)}}),[w,le]),g||void 0===E?d.a.createElement(s.Loader,{size:"sm"}):(P?t=S:N[E].footerComponent&&(t=N[E].footerComponent),d.a.createElement(J,null,d.a.createElement(Q,{tag:"h2",testId:"safe-creation-process-title"},"Safe creation process"),d.a.createElement(X,null,d.a.createElement(s.Stepper,{activeStepIndex:E,error:P,orientation:"vertical",steps:N})),d.a.createElement(Z,null,d.a.createElement(ne,null,d.a.createElement(C.a,{alt:"Vault",height:75,src:P?q:E<=4?$:U})),d.a.createElement(ae,null,d.a.createElement(ee,null,N[E].description||N[E].label)),d.a.createElement(re,null,!P&&E<=4&&d.a.createElement(C.a,{alt:"Loader dots",src:K})),d.a.createElement(ce,null,d.a.createElement(te,{color:"primary",inverseColors:ge,noMargin:!0,size:"md"},P?"You can Cancel or Retry the Safe creation process.":N[E].instruction)),d.a.createElement(oe,null,t?d.a.createElement(t,{continueButtonDisabled:fe,onCancel:r,onClick:he,onContinue:function(){pe(!0),l(M)},onRetry:he,safeCreationTxHash:w}):null)),d.a.createElement(ie,{color:"primary",minWidth:140,onClick:r,"data-testid":"safe-creation-back-btn"},"Back")))},le=n(181),ue=n(6),me=n(357),de=n(2492),fe=n.n(de),pe=n(2600),be=n(132),ge=n(97),ve=n(678),he=n(76),Oe=n.n(he),Ee=n(490),je=n(632),ye=n(631),xe=n(120),we=n(138),Se=n(2335),Ne=n(257),ke=n(2352),Ce=n(2336),Ae=n(356),_e=n(601),Ie=Object(Ae.a)(Object(_e.a)({root:Object(ue.a)({minHeight:"300px"},"@media (min-width: ".concat(h.screenSm,"px)"),{flexDirection:"row"}),detailsColumn:Object(ue.a)({minWidth:"100%"},"@media (min-width: ".concat(h.screenSm,"px)"),{minWidth:"0"}),ownersColumn:Object(ue.a)({minWidth:"100%"},"@media (min-width: ".concat(h.screenSm,"px)"),{minWidth:"0"}),details:{padding:h.lg,borderRight:"solid 1px ".concat(h.border),height:"100%"},info:{backgroundColor:h.background,flexDirection:"column",justifyContent:"center",padding:h.lg,textAlign:"center"},owners:{padding:h.lg},name:{textOverflow:"ellipsis",overflow:"hidden"},userName:{whiteSpace:"nowrap"},owner:{alignItems:"center",minWidth:"fit-content",padding:h.sm,paddingLeft:h.lg},user:{justifyContent:"left","& > p":{marginRight:h.sm}},open:{paddingLeft:h.sm,width:"auto","&:hover":{cursor:"pointer"}}})),Fe=Object(O.i)().nativeCoin,Re=function(e){var t=e.userAccount,n=e.values,r=Ie(),c=Object(m.useState)("< 0.001"),l=Object(a.a)(c,2),u=l[0],f=l[1],p=Object(ke.b)(n),b=Object(ke.a)(n),g=Object(Ce.e)(n),v=Object(ke.d)(n);return Object(m.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.length&&g&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(_.f)(b,g,t,v);case 4:n=e.sent.toString(),a=Object(Ee.a)(n,Fe.decimals),r=Object(Ne.a)(a),f(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b,g,v,t]),d.a.createElement(d.a.Fragment,null,d.a.createElement(ge.a,{className:r.root},d.a.createElement(xe.a,{className:r.detailsColumn,layout:"column",xs:4},d.a.createElement(be.a,{className:r.details},d.a.createElement(be.a,{margin:"lg"},d.a.createElement(A.a,{color:"primary",noMargin:!0,size:"lg","data-testid":"create-safe-step-three"},"Details")),d.a.createElement(be.a,{margin:"lg"},d.a.createElement(A.a,{color:"disabled",noMargin:!0,size:"sm"},"Name of new Safe"),d.a.createElement(A.a,{className:r.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder","data-testid":"create-safe-review-name"},n[Ce.c])),d.a.createElement(be.a,{margin:"lg"},d.a.createElement(A.a,{color:"disabled",noMargin:!0,size:"sm"},"Any transaction requires the confirmation of:"),d.a.createElement(A.a,{color:"primary",noMargin:!0,size:"lg",weight:"bolder","data-testid":"create-safe-review-req-owners-".concat(n[Ce.a])},"".concat(n[Ce.a]," out of ").concat(g," owners"))))),d.a.createElement(xe.a,{className:r.ownersColumn,layout:"column",xs:8},d.a.createElement(ve.a,null,d.a.createElement(be.a,{className:r.owners},d.a.createElement(A.a,{color:"primary",noMargin:!0,size:"lg"},"".concat(g," Safe owners"))),d.a.createElement(we.a,null),p.map((function(e,t){return d.a.createElement(d.a.Fragment,{key:"name".concat(t)},d.a.createElement(ge.a,{className:r.owner},d.a.createElement(xe.a,{align:"center",xs:1},d.a.createElement(ye.a,{address:b[t],diameter:32})),d.a.createElement(xe.a,{xs:11},d.a.createElement(be.a,{className:Oe()(r.name,r.userName)},d.a.createElement(A.a,{noMargin:!0,size:"lg","data-testid":"create-safe-owner-name-".concat(t)},e),d.a.createElement(be.a,{className:r.user,justify:"center"},d.a.createElement(A.a,{color:"disabled",noMargin:!0,size:"md","data-testid":"create-safe-owner-address-".concat(t)},b[t]),d.a.createElement(je.a,{content:b[t]}),d.a.createElement(s.ExplorerButton,{explorerUrl:Object(O.b)(b[t])}))))),d.a.createElement(we.a,null))}))))),d.a.createElement(ge.a,{align:"center",className:r.info},d.a.createElement(A.a,{color:"primary",noMargin:!0,size:"md"},"You're about to create a new Safe and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",u," ",Fe.name,". The exact amount will be determined by your wallet.")))},Te=function(){return function(e,t){return d.a.createElement(d.a.Fragment,null,d.a.createElement(Se.a,{controls:e,padding:!1},d.a.createElement(Re,t)))}},Me=n(2271),ze=n(2274),We=n(629),Ge=Object(_e.a)({root:{display:"flex",maxWidth:"440px"},text:{flexWrap:"nowrap"},dot:{marginRight:h.sm},links:{"&>a":{color:h.secondary}}}),Pe=Object(Ae.a)(Ge),De=function(e){var t=e.safeName,n=Pe();return m.createElement(m.Fragment,null,m.createElement(be.a,{margin:"lg"},m.createElement(A.a,{color:"primary",noMargin:!0,size:"md"},"You are about to create a new Gnosis Safe wallet with one or more owners. First, let's give your new wallet a name. This name is only stored locally and will never be shared with Gnosis or any third parties.")),m.createElement(be.a,{className:n.root,margin:"lg"},m.createElement(Me.a,{component:ze.a,defaultValue:t,name:Ce.c,placeholder:"Name of the new Safe",text:"Safe name",type:"text",validate:Object(We.a)(We.k,Object(We.d)(1,50)),testId:"create-safe-name-field"})),m.createElement(be.a,{margin:"lg"},m.createElement(A.a,{className:n.links,color:"primary",noMargin:!0,size:"md"},"By continuing you consent to the"," ",m.createElement("a",{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank"},"terms of use")," ","and"," ",m.createElement("a",{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank"},"privacy policy"),".")))},Le=function(){return function(e,t){var n=t.values.safeName;return m.createElement(Se.a,{controls:e},m.createElement(De,{safeName:n}))}},Ve=n(109),He=n(675),Be=n(672),Ye=n(2491),Ke=n.n(Ye),Ue=Object(_e.a)({root:{display:"flex"},title:{padding:"".concat(h.md," ").concat(h.lg)},owner:Object(ue.a)({flexDirection:"column",marginTop:"12px",padding:"0 ".concat(h.lg),"&:first-child":{marginTop:0}},"@media (min-width: ".concat(h.screenSm,"px)"),{flexDirection:"row"}),ownerName:Object(ue.a)({marginBottom:"5px",minWidth:"100%"},"@media (min-width: ".concat(h.screenSm,"px)"),{marginBottom:"0",minWidth:"0"}),ownerAddress:Object(ue.a)({marginBottom:"15px",minWidth:"100%"},"@media (min-width: ".concat(h.screenSm,"px)"),{marginBottom:"0",minWidth:"0"}),header:{padding:"".concat(h.sm," ").concat(h.lg),fontSize:h.extraSmallFontSize,color:h.disabled},name:{marginRight:"".concat(h.sm)},trash:{top:"5px"},add:{justifyContent:"center"},check:{color:"#03AE60",height:"20px"},remove:{height:"56px",maxWidth:"50px","&:hover":{cursor:"pointer"}},owners:{paddingLeft:h.md},ownersAmount:Object(ue.a)({flexDirection:"column"},"@media (min-width: ".concat(h.screenSm,"px)"),{flexDirection:"row"}),ownersAmountItem:Object(ue.a)({minWidth:"100%"},"@media (min-width: ".concat(h.screenSm,"px)"),{minWidth:"0"})}),qe=function(e,t){var n=e.slice();return n[t]=n[n.length-1],n.pop(),Object(We.l)(n)},$e=n(2285),Je=n.n($e),Qe=n(2624),Xe=n.n(Qe),Ze=n(2288),et=n(2305),tt=n(2304),nt=n(633),at=n(201),rt=m.useState,ct=Object(Ae.a)(Ue),ot=function(e){var t=e.errors,n=e.form,c=e.otherAccounts,o=e.values,i=ct(),s=Object(Ce.e)(o),l=Object(p.f)(nt.b),u=rt(s),d=Object(a.a)(u,2),f=d[0],b=d[1],g=rt(!1),h=Object(a.a)(g,2),O=h[0],E=h[1],j=rt(null),y=Object(a.a)(j,2),x=y[0],w=y[1],S=function(){E(!1)},N=function(e){return function(){var t=function(e,t,n){for(var a=Object(r.a)({},n),c=t-1,o=e;o<c;o+=1)a[Object(Ce.g)(o)]=n[Object(Ce.g)(o+1)],a[Object(Ce.f)(o)]=n[Object(Ce.f)(o+1)];return+n[Ce.a]===t&&(a[Ce.a]=c.toString()),delete a[Object(Ce.g)(e)],delete a[Object(Ce.f)(e)],a}(e,f,o);n.reset(t),b(f-1)}};return m.createElement(m.Fragment,null,m.createElement(be.a,{className:i.title},m.createElement(A.a,{color:"primary",noMargin:!0,size:"md","data-testid":"create-safe-step-two"},"Your Safe will have one or more owners. We have prefilled the first owner with your connected wallet details, but you are free to change this to a different owner.",m.createElement("br",null),m.createElement("br",null),"Add additional owners (e.g. wallets of your teammates) and specify how many of them have to confirm a transaction before it gets executed. In general, the more confirmations required, the more secure is your Safe.")),m.createElement(we.a,null),m.createElement(ge.a,{className:i.header},m.createElement(xe.a,{xs:4},"NAME"),m.createElement(xe.a,{xs:8},"ADDRESS")),m.createElement(we.a,null),m.createElement(be.a,{margin:"md",padding:"md"},Object(Ve.a)(Array(Number(f))).map((function(e,a){var r=Object(Ce.f)(a),o=Object(Ce.g)(a);return m.createElement(ge.a,{className:i.owner,key:"owner".concat(a),"data-testid":"create-safe-owner-row"},m.createElement(xe.a,{className:i.ownerName,xs:4},m.createElement(Me.a,{className:i.name,component:ze.a,name:o,placeholder:"Owner Name*",text:"Owner Name",type:"text",validate:Object(We.a)(We.k,Object(We.d)(1,50)),testId:"create-safe-owner-name-field-".concat(a)})),m.createElement(xe.a,{className:i.ownerAddress,xs:6},m.createElement(et.a,{fieldMutator:function(e){var t=Object(at.e)(l,e,{filterOnlyValidName:!0});n.mutators.setValue(r,e),t&&n.mutators.setValue(o,t)},inputAdornment:Object(We.j)(r,t)&&{endAdornment:m.createElement(He.a,{position:"end"},m.createElement(Ke.a,{className:i.check,"data-testid":"valid-address-".concat(a)}))},name:r,placeholder:"Owner Address*",text:"Owner Address",validators:[qe(c,a)],testId:"create-safe-address-field-".concat(a)})),m.createElement(xe.a,{center:"xs",className:i.remove,middle:"xs",xs:1},m.createElement(C.a,{alt:"Scan QR",height:20,onClick:function(){!function(e){w(e),E(!0)}(r)},src:Je.a})),m.createElement(xe.a,{center:"xs",className:i.remove,middle:"xs",xs:1},a>0&&m.createElement(C.a,{alt:"Delete",height:20,onClick:N(a),src:Xe.a})))}))),m.createElement(ge.a,{align:"center",className:i.add,grow:!0,margin:"xl"},m.createElement(v.a,{color:"secondary","data-testid":"add-owner-btn",onClick:function(){b(f+1)}},m.createElement(A.a,{noMargin:!0,size:"md"},"+ Add another owner"))),m.createElement(be.a,{className:i.owner,margin:"md",padding:"md"},m.createElement(A.a,{color:"primary",size:"md"},"Any transaction requires the confirmation of:"),m.createElement(ge.a,{align:"center",className:i.ownersAmount,margin:"xl"},m.createElement(xe.a,{className:i.ownersAmountItem,xs:2},m.createElement(Me.a,{component:tt.a,"data-testid":"threshold-select-input",name:Ce.a,validate:Object(We.a)(We.k,We.i,Object(We.e)(1))},Object(Ve.a)(Array(Number(s))).map((function(e,t){return m.createElement(Be.a,{key:"selectOwner".concat(t),value:"".concat(t+1),"data-testid":"input-".concat(t+1)},t+1)})))),m.createElement(xe.a,{className:i.ownersAmountItem,xs:10},m.createElement(A.a,{className:i.owners,color:"primary",noMargin:!0,size:"lg","data-testid":"create-safe-req-conf-".concat(s)},"out of ",s," owner(s)")))),O&&m.createElement(Ze.a,{isOpen:O,onClose:S,onScan:function(e){var t,a=e;(null===(t=a)||void 0===t?void 0:t.startsWith("ethereum:"))&&(a=a.replace("ethereum:","")),n.mutators.setValue(x,a),S()}}))},it=function(){return function(e,t){var n=t.errors,a=t.form,r=t.values;return m.createElement(m.Fragment,null,m.createElement(Se.a,{controls:e,padding:!1},m.createElement(ot,{errors:n,form:a,otherAccounts:Object(ke.a)(r),values:r})))}},st=n(2347),lt=n(82),ut=m.useEffect,mt={color:h.secondary,padding:h.sm,marginRight:"5px"},dt=function(){lt.a.goBack()},ft={setValue:function(e,t,n){var r=Object(a.a)(e,2),c=r[0],o=r[1];(0,n.changeValue)(t,c,(function(){return o}))}},pt=function(e){var t=e.onCallSafeContractSubmit,n=e.safeProps,c=Object(p.f)(R.d),o=Object(p.f)(R.c),i=Object(p.f)(R.f);ut((function(){c&&Object(_.j)()}),[c]);var s=["Name","Owners and confirmations","Review"],l=function(e,t){var n,c,o=Object(p.f)(nt.b),i=Object(at.e)(o,e,{filterOnlyValidName:!0});if(!t)return c={},Object(ue.a)(c,Object(Ce.g)(0),i||"My Wallet"),Object(ue.a)(c,Object(Ce.f)(0),e),Object(ue.a)(c,Ce.a,"1"),Object(ue.a)(c,Ce.b,Date.now()),c;var s,l={},u=t.name,m=t.ownerAddresses,d=t.ownerNames,f=t.threshold,b=Object(le.a)(m.entries());try{for(b.s();!(s=b.n()).done;){var g,v=Object(a.a)(s.value,2),h=v[0],O=v[1],E=d[h]?d[h]:"My Wallet";l=Object(r.a)(Object(r.a)({},l),{},(g={},Object(ue.a)(g,Object(Ce.f)(h),O),Object(ue.a)(g,Object(Ce.g)(h),E),g))}}catch(j){b.e(j)}finally{b.f()}return Object(r.a)(Object(r.a)({},l),{},(n={},Object(ue.a)(n,Ce.a,f||"1"),Object(ue.a)(n,Ce.d,u),Object(ue.a)(n,Ce.b,Date.now()),n))}(i,n);return m.createElement(m.Fragment,null,c?m.createElement(be.a,null,m.createElement(ge.a,{align:"center"},m.createElement(me.a,{disableRipple:!0,onClick:dt,style:mt},m.createElement(fe.a,null)),m.createElement(k.a,{tag:"h2",testId:"create-safe-form-title"},"Create New Safe")),m.createElement(pe.b,{initialValues:l,mutators:ft,onSubmit:t,steps:s,testId:"create-safe-form"},m.createElement(pe.a,{component:Le}),m.createElement(pe.a,{component:it}),m.createElement(pe.a,{network:o,userAccount:i,component:Te}))):m.createElement(st.b,{isOldMultisigMigration:!0,provider:c}))},bt=n(647),gt=n(80),vt=n(381),ht=n(62),Ot=n(162),Et=function(){var e=Object(i.a)(o.a.mark((function e(t,n,a,r){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vt.a)(t,n);case 2:return c=e.sent,i=Object(ke.c)(a,r),c.owners=i,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),jt=function(e,t){var n=Object(ke.f)(e),a=Object(ke.e)(e),c=Object(ke.b)(e),s=Object(ke.a)(e),l=Object(ke.d)(e),u=Object(_.h)(s,n,l).send({from:t});return u.once("transactionHash",(function(t){Object(ht.c)("SAFE_PENDING_CREATION_STORAGE_KEY",Object(r.a)({txHash:t},e))})).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(t.transactionHash);case 2:return r=null===(n=t.events)||void 0===n?void 0:n.ProxyCreation.returnValues.proxy,e.next=5,Et(r,a,c,s);case 5:return i=e.sent,e.abrupt("return",{safeAddress:i.address,safeTx:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})),u};t.default=function(){var e=Object(m.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],l=Object(m.useState)(!1),b=Object(a.a)(l,2),g=b[0],v=b[1],h=Object(m.useState)(),O=Object(a.a)(h,2),E=O[0],j=O[1],y=Object(m.useState)(),x=Object(a.a)(y,2),w=x[0],S=x[1],N=Object(m.useState)(),k=Object(a.a)(N,2),C=k[0],A=k[1],_=Object(p.f)(R.f),I=Object(p.e)();Object(m.useEffect)((function(){var e=u.a.parse(window.location.search,{arrayFormat:"comma"}),t=e.name,n=e.owneraddresses,a=e.ownernames,r=e.threshold;(function(e,t,n,a){return!!(e&&t&&n&&a)&&(!(!e.length||0===t.length)&&(!Number.isNaN(Number(n))&&n<=e.length))})(n,a,r,t)&&A({name:t,ownerAddresses:n,ownerNames:a,threshold:r})}),[]),Object(m.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)("SAFE_PENDING_CREATION_STORAGE_KEY");case 2:(t=e.sent)&&t.txHash?(S(t),v(!0)):v(!1),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var F=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!t){e.next=6;break}a=Object(r.a)({},t),Object(ht.c)("SAFE_PENDING_CREATION_STORAGE_KEY",a),e.next=9;break;case 6:return e.next=8,Object(ht.a)("SAFE_PENDING_CREATION_STORAGE_KEY");case 8:n=e.sent;case 9:c=jt(n,_),j(c),v(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)("SAFE_PENDING_CREATION_STORAGE_KEY");case 2:return n=e.sent,a=Object(ke.e)(n),r=Object(ke.b)(n),c=Object(ke.a)(n),e.next=8,Et(t,a,r,c);case 8:return i=e.sent,e.next=11,I(Object(Ot.b)(i));case 11:f.a.event({category:"User",action:"Created a safe",value:t}),Object(ht.b)("SAFE_PENDING_CREATION_STORAGE_KEY"),s={pathname:"".concat(gt.c,"/").concat(i.address,"/balances"),state:{name:a,tx:null===n||void 0===n?void 0:n.txHash}},lt.a.push(s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)("SAFE_PENDING_CREATION_STORAGE_KEY");case 2:return null===(t=e.sent)||void 0===t||delete t.txHash,e.next=6,Object(ht.c)("SAFE_PENDING_CREATION_STORAGE_KEY",t);case 6:S(t),F();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n||void 0===g?d.a.createElement(s.Loader,{size:"md"}):d.a.createElement(bt.a,null,g?d.a.createElement(se,{creationTxHash:null===w||void 0===w?void 0:w.txHash,onCancel:function(){Object(ht.b)("SAFE_PENDING_CREATION_STORAGE_KEY"),lt.a.push({pathname:"".concat(gt.e)})},onRetry:M,onSuccess:T,submittedPromise:E}):d.a.createElement(pt,{onCallSafeContractSubmit:F,safeProps:C}))}}}]);
//# sourceMappingURL=32.95047155.chunk.js.map